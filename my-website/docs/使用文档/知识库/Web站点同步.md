---
sidebar_position: 2
---

# Web 站点同步

FastGPT Web 站点同步功能介绍和使用方式

:::warning 商业版功能
该功能目前仅向商业版用户开放。
:::

## 什么是 Web 站点同步

Web 站点同步利用**爬虫技术**，可以通过一个入口网站，自动捕获`同域名`下的所有网站，目前最多支持`200`个子页面。

### 技术限制

出于合规与安全角度，FastGPT 仅支持`静态站点`的爬取，主要用于各个文档站点快速构建知识库。

:::tip 检测方法
国内的媒体站点基本不可用，公众号、CSDN、知乎等。可以通过终端发送`curl`请求检测是否为静态站点：

```bash
curl https://doc.fastgpt.io/docs/intro/
```
:::

### 适用场景

- 📚 **技术文档站**：API文档、产品手册等
- 🌐 **企业官网**：静态内容页面
- 📖 **知识库站点**：Gitbook、Notion等导出的静态站点
- 📝 **博客网站**：静态博客站点

## 如何使用

### 1. 新建知识库

在知识库列表页面，点击"新建知识库"，选择"Web 站点同步"选项。

### 2. 配置站点信息

点击"配置站点信息"按钮，进入配置页面。

### 3. 填写网址和选择器

#### 基本配置
- **网站地址**：输入要同步的网站首页URL
- **同步深度**：设置爬取的页面层级（最多200页）
- **更新频率**：设置自动同步的时间间隔

#### 选择器配置
通过CSS选择器指定要抓取的内容区域，避免抓取无关内容（如导航栏、广告等）。

配置完成后，点击"开始同步"，系统会自动抓取网站信息。

## 创建应用，绑定知识库

同步完成后：
1. 创建新的AI应用
2. 在应用配置中绑定刚创建的知识库
3. 配置AI模型和参数
4. 开始使用基于网站内容的AI问答

## 🎯 选择器详解

选择器是 HTML CSS 的重要概念，用于精确定位需要抓取的内容。

### 基础概念

CSS选择器可以帮你定位到页面中的特定元素，而不是抓取整个页面内容。

### 使用步骤

#### 1. 打开浏览器调试面板

- **方法一**：按 `F12` 键
- **方法二**：右键页面 → 选择"检查"
- **方法三**：菜单栏 → 开发者工具

#### 2. 找到目标元素

1. 点击调试面板左上角的选择工具（🔍）
2. 在页面上点击要抓取的内容区域
3. 在调试面板中查看对应的HTML结构

#### 3. 编写选择器

根据元素的属性编写CSS选择器：

### 选择器类型示例

#### 属性选择器
```css
/* 选择包含特定属性的元素 */
div[data-prismjs-copy]
```

#### 类选择器
```css
/* 选择包含特定class的元素 */
.docs-content
.content-wrapper
```

#### ID选择器
```css
/* 选择特定ID的元素 */
#main-content
#article-body
```

#### 后代选择器
```css
/* 选择docs-content类下的所有p标签 */
.docs-content p

/* 选择article标签下的所有.text类元素 */
article .text
```

### 复杂选择器示例

#### 多类名选择器
```css
/* 选择同时包含多个类的元素 */
.docs-content.mb-0.d-flex
```

#### 多选择器组合
```css
/* 用逗号分隔多个选择器 */
.docs-content .mb-0.d-flex, .docs-content div[data-prismjs-copy]
```

这种方式可以同时选择多个不同的内容区域。

### 实际案例

#### FastGPT 文档站点
```css
.docs-content .mb-0.d-flex, .docs-content div[data-prismjs-copy]
```

**解释：**
- `.docs-content .mb-0.d-flex`：选择docs-content类下同时包含mb-0和d-flex类的子元素
- `.docs-content div[data-prismjs-copy]`：选择docs-content类下包含data-prismjs-copy属性的div元素

#### 常见文档站点选择器
```css
/* Gitbook风格 */
.page-content, .book-body

/* VuePress风格 */
.theme-default-content, .content__default

/* Docusaurus风格 */
.markdown, .theme-doc-markdown

/* 自定义站点 */
#content, .main-content, article
```

## 高级功能

### 内容过滤

使用选择器可以实现精确的内容过滤：

```css
/* 只抓取文章内容，排除侧边栏 */
.content-area:not(.sidebar)

/* 只抓取标题和段落 */
h1, h2, h3, p, .text-content
```

### 批量站点管理

- **站点分组**：按主题或类型对同步站点进行分组
- **定时同步**：设置自动更新时间
- **增量更新**：只同步新增或修改的内容
- **冲突处理**：处理重复内容和更新冲突

## 注意事项

### ✅ 支持的站点类型
- 静态HTML站点
- 技术文档站
- 博客站点
- 企业官网

### ❌ 不支持的站点类型
- 需要登录的站点
- 动态加载内容的SPA应用
- 媒体资讯站点
- 社交媒体平台

### 🔧 性能优化建议
- 合理设置同步频率
- 使用精确的选择器减少无关内容
- 定期清理过期内容
- 监控同步状态和错误日志

## 常见问题

### Q: 为什么某些网站无法同步？

**A: 可能的原因：**
- 网站不是静态站点
- 网站设置了反爬虫机制
- 需要登录或认证
- 内容通过JavaScript动态加载

### Q: 如何提高同步质量？

**A: 优化建议：**
- 使用精确的CSS选择器
- 排除导航、广告等无关内容
- 设置合理的同步深度
- 定期检查和更新选择器

### Q: 同步的内容如何更新？

**A: 更新方式：**
- 手动触发同步
- 设置定时自动同步
- 增量更新模式
- 全量重新同步

---

*参考来源：[FastGPT 官方文档](https://doc.fastgpt.cn/docs/introduction/guide/knowledge_base/websync)*
